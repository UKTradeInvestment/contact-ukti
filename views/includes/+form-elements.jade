mixin form-label(name, label)
  label.form-label(for=name)= label
    +form-error(name)

mixin form-error(name)
  if msg = errors && errors[name] ? errors[name].msg : false
    span.error-message= msg

mixin form-hint(msg)
  if msg
    p.form-hint= msg

mixin text-field(name, label, opts)
  div.form-group(class=errors && errors[name] ? 'error' : '')
    +form-label(name, label)
    +form-hint(opts.hint)
    input.form-control(
      id=name
      type=opts.type ? opts.type : 'text'
      name=name
      required=opts.required
    )

mixin textarea(name, label, opts)
  div.form-group(class=errors && errors[name] ? 'error' : '')
    +form-label(name, label)
    +form-hint(opts.hint)
    textarea.form-control(
      id=name
      name=name
      required=opts.required
    )

mixin choices(name, label, choices, opts)
  fieldset.form-group(class=errors && errors[name] ? 'error' : '')
    legend(class=opts.labelClass)= label
    +form-error(name)
    +form-hint(opts.hint)
    for choice in choices
      label.block-label
        input(
          name=name
          type=opts.type ? opts.type : 'radio'
          value=choice.label
          required=opts.required
        )
        = choice.label

mixin autocomplete(name, label, choices, opts)
  div.form-group(class=errors && errors[name] ? 'error' : '')
    +form-label(name, label)
    +form-hint(opts.hint)
    select.form-control.js-autocomplete(id=name name=name required=opts.required)
      option
      each choice in choices
        option(value=choice)= choice
